/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */
package com.pcstore.view;

import com.pcstore.model.Return;
import java.time.format.DateTimeFormatter;
import java.util.HashMap;
import java.util.Map;

/**
 *
 * @author DUC ANH
 */
public class ReturnDetailForm extends javax.swing.JPanel {
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel lbID;
    private javax.swing.JLabel lbProductID;
    private javax.swing.JLabel lbProductName;
    private javax.swing.JLabel lbQuantity;
    private javax.swing.JLabel lbReasonReturn;
    private javax.swing.JLabel lbReturnDate;
    private javax.swing.JLabel lbStatus;
    private javax.swing.JPanel paneIDCustomer;
    private com.k33ptoo.components.KGradientPanel panelInfoDetail;
    private javax.swing.JPanel panelProductID;
    private javax.swing.JPanel panelProductName;
    private javax.swing.JPanel panelQuantity;
    private javax.swing.JPanel panelReasonReturn;
    private javax.swing.JPanel panelReturnDate;
    private javax.swing.JPanel panelStatus;
    private javax.swing.JTextField txtID;
    private javax.swing.JTextField txtProductID;
    private javax.swing.JTextField txtProductName;
    private javax.swing.JTextField txtQuantity;
    private javax.swing.JTextField txtReasonReturn;
    private javax.swing.JTextField txtReturnDate;
    private javax.swing.JTextField txtStatus;
    // End of variables declaration//GEN-END:variables
    /**
     * Creates new form DetailReturnForm
     */
    public ReturnDetailForm() {
        initComponents();
    }

    /**
     * Constructor nhận vào đối tượng Return để hiển thị thông tin chi tiết
     * @param returnObj Đối tượng Return chứa thông tin chi tiết
     */
    public ReturnDetailForm(Return returnObj) {
        initComponents();
        displayReturnDetails(returnObj);
    }

    /**
     * Hiển thị chi tiết của đơn trả hàng
     * @param returnObj Đối tượng Return cần hiển thị
     */
    private void displayReturnDetails(Return returnObj) {
        if (returnObj == null) return;

        // Format date
        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern("dd/MM/yyyy HH:mm");

        // Thiết lập các giá trị vào các trường
        txtID.setText(returnObj.getReturnId().toString());

        // Thông tin sản phẩm
        if (returnObj.getInvoiceDetail() != null && returnObj.getInvoiceDetail().getProduct() != null) {
            txtProductName.setText(returnObj.getInvoiceDetail().getProduct().getProductName());
            txtProductID.setText(returnObj.getInvoiceDetail().getProduct().getProductId());
        }

        // Thông tin số lượng
        txtQuantity.setText(String.valueOf(returnObj.getQuantity()));

        // Lý do trả
        txtReasonReturn.setText(returnObj.getReason());

        // Ngày trả
        if (returnObj.getReturnDate() != null) {
            txtReturnDate.setText(returnObj.getReturnDate().format(dateFormatter));
        }

        // Trạng thái đơn trả hàng
        // Dịch trạng thái sang tiếng Việt
        String status = returnObj.getStatus();
        Map<String, String> statusTranslation = new HashMap<>();
        statusTranslation.put("Pending", "Đang chờ xử lý");
        statusTranslation.put("Approved", "Đã phê duyệt");
        statusTranslation.put("Rejected", "Đã từ chối");
        statusTranslation.put("Completed", "Đã hoàn thành");

        String translatedStatus = statusTranslation.getOrDefault(status, status);
        txtStatus.setText(translatedStatus);

        // Ghi chú (có thể null)
        

        // Đảm bảo tất cả các trường là không thể chỉnh sửa
        txtID.setEditable(false);
        txtProductName.setEditable(false);
        txtProductID.setEditable(false);
        txtQuantity.setEditable(false);
        txtReasonReturn.setEditable(false);
        txtReturnDate.setEditable(false);
        txtStatus.setEditable(false);
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelInfoDetail = new com.k33ptoo.components.KGradientPanel();
        paneIDCustomer = new javax.swing.JPanel();
        lbID = new javax.swing.JLabel();
        txtID = new javax.swing.JTextField();
        panelProductName = new javax.swing.JPanel();
        txtProductName = new javax.swing.JTextField();
        lbProductName = new javax.swing.JLabel();
        panelProductID = new javax.swing.JPanel();
        lbProductID = new javax.swing.JLabel();
        txtProductID = new javax.swing.JTextField();
        panelQuantity = new javax.swing.JPanel();
        lbQuantity = new javax.swing.JLabel();
        txtQuantity = new javax.swing.JTextField();
        panelReasonReturn = new javax.swing.JPanel();
        lbReasonReturn = new javax.swing.JLabel();
        txtReasonReturn = new javax.swing.JTextField();
        panelReturnDate = new javax.swing.JPanel();
        lbReturnDate = new javax.swing.JLabel();
        txtReturnDate = new javax.swing.JTextField();
        panelStatus = new javax.swing.JPanel();
        lbStatus = new javax.swing.JLabel();
        txtStatus = new javax.swing.JTextField();

        setBackground(new java.awt.Color(255, 255, 255));
        setLayout(new java.awt.BorderLayout());

        panelInfoDetail.setBackground(new java.awt.Color(255, 255, 255));
        java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle("com/pcstore/resources/vi_VN"); // NOI18N
        panelInfoDetail.setBorder(javax.swing.BorderFactory.createTitledBorder(null, bundle.getString("txtDetail"), javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Segoe UI", 0, 24))); // NOI18N
        panelInfoDetail.setkBorderRadius(15);
        panelInfoDetail.setkEndColor(new java.awt.Color(0, 0, 0));
        panelInfoDetail.setkFillBackground(false);
        panelInfoDetail.setkStartColor(new java.awt.Color(0, 0, 0));
        panelInfoDetail.setPreferredSize(new java.awt.Dimension(400, 420));
        panelInfoDetail.setLayout(new java.awt.GridLayout(5, 2, 50, 15));

        paneIDCustomer.setOpaque(false);
        paneIDCustomer.setLayout(new java.awt.GridLayout(2, 0));

        lbID.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbID.setText(bundle.getString("lbIDCustomer")); // NOI18N
        paneIDCustomer.add(lbID);

        txtID.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtID.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtID.setDisabledTextColor(new java.awt.Color(51, 51, 51));
        txtID.setEnabled(false);
        paneIDCustomer.add(txtID);

        panelInfoDetail.add(paneIDCustomer);

        panelProductName.setOpaque(false);
        panelProductName.setLayout(new java.awt.BorderLayout(0, 1));

        txtProductName.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtProductName.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtProductName.setOpaque(true);
        panelProductName.add(txtProductName, java.awt.BorderLayout.PAGE_END);

        lbProductName.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbProductName.setText(bundle.getString("lbDispalyNameProduct")); // NOI18N
        panelProductName.add(lbProductName, java.awt.BorderLayout.PAGE_START);

        panelInfoDetail.add(panelProductName);

        panelProductID.setOpaque(false);
        panelProductID.setLayout(new java.awt.BorderLayout(0, 1));

        lbProductID.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbProductID.setText(bundle.getString("lbDisplayProductID")); // NOI18N
        panelProductID.add(lbProductID, java.awt.BorderLayout.CENTER);

        txtProductID.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtProductID.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtProductID.setOpaque(true);
        panelProductID.add(txtProductID, java.awt.BorderLayout.PAGE_END);

        panelInfoDetail.add(panelProductID);

        panelQuantity.setOpaque(false);
        panelQuantity.setPreferredSize(new java.awt.Dimension(64, 35));
        panelQuantity.setLayout(new java.awt.BorderLayout(0, 1));

        lbQuantity.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbQuantity.setText(bundle.getString("lbQuantity")); // NOI18N
        panelQuantity.add(lbQuantity, java.awt.BorderLayout.PAGE_START);

        txtQuantity.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtQuantity.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtQuantity.setOpaque(true);
        panelQuantity.add(txtQuantity, java.awt.BorderLayout.CENTER);

        panelInfoDetail.add(panelQuantity);

        panelReasonReturn.setOpaque(false);
        panelReasonReturn.setLayout(new java.awt.BorderLayout(0, 1));

        lbReasonReturn.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbReasonReturn.setText(bundle.getString("lbReasonReturn")); // NOI18N
        panelReasonReturn.add(lbReasonReturn, java.awt.BorderLayout.PAGE_START);

        txtReasonReturn.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtReasonReturn.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtReasonReturn.setOpaque(true);
        panelReasonReturn.add(txtReasonReturn, java.awt.BorderLayout.CENTER);

        panelInfoDetail.add(panelReasonReturn);

        panelReturnDate.setOpaque(false);
        panelReturnDate.setLayout(new java.awt.BorderLayout(2, 1));

        lbReturnDate.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbReturnDate.setText(bundle.getString("lbReturnDate")); // NOI18N
        panelReturnDate.add(lbReturnDate, java.awt.BorderLayout.PAGE_START);

        txtReturnDate.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtReturnDate.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtReturnDate.setMinimumSize(new java.awt.Dimension(135, 23));
        txtReturnDate.setName(""); // NOI18N
        txtReturnDate.setOpaque(true);
        txtReturnDate.setPreferredSize(new java.awt.Dimension(135, 23));
        panelReturnDate.add(txtReturnDate, java.awt.BorderLayout.CENTER);

        panelInfoDetail.add(panelReturnDate);

        panelStatus.setOpaque(false);
        panelStatus.setLayout(new java.awt.BorderLayout(0, 1));

        lbStatus.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        lbStatus.setText(bundle.getString("lbStatus")); // NOI18N
        panelStatus.add(lbStatus, java.awt.BorderLayout.CENTER);

        txtStatus.setFont(new java.awt.Font("Segoe UI", 0, 15)); // NOI18N
        txtStatus.setBorder(javax.swing.BorderFactory.createMatteBorder(0, 0, 2, 0, new java.awt.Color(102, 102, 102)));
        txtStatus.setOpaque(true);
        panelStatus.add(txtStatus, java.awt.BorderLayout.PAGE_END);

        panelInfoDetail.add(panelStatus);

        add(panelInfoDetail, java.awt.BorderLayout.CENTER);
    }// </editor-fold>//GEN-END:initComponents


    
}
